\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{sty/qcm}[2022/07/02 qcm]

\newcounter{QCMquestion}
\newcounter{QCMtotalpoints}
\newcounter{QCMreponse}
\newcounter{temp}


\newenvironment{qcm}
{%
    \setcounter{QCMquestion}{0}
    \setcounter{QCMtotalpoints}{0}
    \begin{tabular}{p{0.5\linewidth}|c|c|c|c}
}%
{%
    \end{tabular}
}%

\newcommand{\QCMquestion}[7]
    % \QCMquestion{énoncé}{A}{B}{C}{D}{bonne réponse}{point(s)}
{%
    \setcounter{temp}{#6}%
    \multiply\value{temp} by 4%
    \addtocounter{QCMreponse}{}
    \addtocounter{QCMreponse}{#6}%
    \addtocounter{QCMtotalpoints}{#7}%
    #1 & #2 & #3 & #4 & #5 \\%
    \stepcounter{QCMquestion}%
}%